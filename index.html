<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>The No Build System Build System</title>

		<meta name="description" content="A talk about frontend build systems for EmpireJS 2014">
		<meta name="author" content="Peter Müller">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
        <link rel="stylesheet" href="css/theme/default.css" id="theme">
        <link rel="stylesheet" href="css/overrides.css" id="theme">

        <link rel="stylesheet" href="css/workflow.css">
        <link rel="stylesheet" href="css/buildsystem.css">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>The No Build System Build System</h1>
					<p>
						<small>By <a href="http://mntr.dk">Peter Müller</a> / <a href="http://twitter.com/_munter_">@_munter_</a></small>
					</p>
				</section>

                <section data-background="images/copenhagen.jpg">
                </section>

                <section data-background="images/copenhagen-dark.jpg">
                    <img src="images/copenhagenjs.svg">
                </section>

                <section data-background="#1b82ae">
                    <img src="images/podio.svg" style="height: 400px">
                </section>
                <section>
                    <h1>No Build System</h1>
                </section>

                <section>
                    <section>
                        <h2>Development lifecycle</h2>
                        <ul>
                            <li class="fragment" data-fragment-index="3">Boilerplate / Bootstrapping</li>
                            <li class="fragment" data-fragment-index="4">Package manager</li>
                            <li class="fragment" data-fragment-index="1">Development iteration</li>
                            <li class="fragment" data-fragment-index="5">Build &amp; Optimization</li>
                            <li class="fragment" data-fragment-index="2">Deployment</li>
                        </ul>

                        <aside class="notes">
                            <p>Yeoman</p>
                            <p>npm, bower</p>
                            <p>Dev iteration - Meat and potatoes of web development</p>
                            <p></p>
                        </aside>
                    </section>

                    <section data-background="images/cat.gif">
                        <h2>Development loop</h2>
                        <ul>
                            <li>Editor</li>
                            <li>Authoring abstractions</li>
                            <li>Livereload</li>
                            <li>Browser</li>
                        </ul>
                    </section>

                    <section>
                        <h2>Development lifecycle</h2>
                        <ul>
                            <li>Boilerplate / Bootstrapping</li>
                            <li>Package manager</li>
                            <li>Development iteration</li>
                            <li>Build &amp; Optimization</li>
                            <li>Deployment</li>
                        </ul>

                        <aside class="notes">
                            <p>Yeoman</p>
                            <p>npm, bower</p>
                            <p>Dev iteration - Meat and potatoes of web development</p>
                            <p></p>
                        </aside>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>Why a buildsystem?</h2>
                    </section>

                    <section data-background="images/speed.gif">
                        <h2>Transport</h2>
                        <aside class="notes">
                            <ul>
                                <li>Reduced size</li>
                                <li>Reduced requests</li>
                                <li>Delivery</li>
                                <li>A transport detail!</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h2>Development code</h2>
                        <img src="images/unicorn.gif" alt="">
                    </section>

                    <section>
                        <h2>Production code</h2>
                        <img src="images/evilhorse.jpg" alt="">
                    </section>

                    <section>
                        <div class="flex flex-big">
                            <img src="images/unicorn.gif" alt="">
                            <div>≠</div>
                            <img src="images/evilhorse.jpg" alt="">
                        </div>
                    </section>

                    <section>
                        <h1>No Build System</h1>
                        <p>In development</p>
                    </section>
                </section>
<!--
                <section>
                    <div class="workflow">
                        <div class="devloop"></div>

                        <img src="images/finish-flag.svg" class="finish-flag">
                        <img src="images/running.svg" class="running">
                    </div>

                </section>
-->
                <section>
                    <section>
                        <h2>Automation</h2>
                    </section>

                    <section data-background="images/grunt.svg" data-background-size="40%"></section>

                    <section data-background="images/grunt-fade.svg" data-background-size="40%">
                        <div class="buildsystem">
                            <div class="task fragment" data-fragment-index="2">
                                <div class="input">Input</div>
                                <div class="io io-before">→</div>
                                <img src="images/gears.svg" class="transform">
                                <div class="io io-after">→</div>
                                <div class="output">Output</div>
                            </div>
                            <div class="config fragment" data-fragment-index="3">Configuration</div>
                            <div class="task">
                                <div class="input">Input</div>
                                <div class="io io-before">→</div>
                                <img src="images/gears.svg" class="transform">
                                <div class="io io-after">→</div>
                                <div class="output">Output</div>
                            </div>
                            <div class="config fragment" data-fragment-index="3">Configuration</div>
                            <div class="task fragment" data-fragment-index="2">
                                <div class="input">Input</div>
                                <div class="io io-before">→</div>
                                <img src="images/gears.svg" class="transform">
                                <div class="io io-after">→</div>
                                <div class="output">Output</div>
                            </div>
                        </div>
                    </section>

                    <section>
                        <img src="images/gulp.png">
                    </section>

                    <section data-background="images/gulp-fade.png" data-background-size="40%">
                        <div class="buildsystem gulp">
                            <div class="task">
                                <div class="input">Input</div>
                                <div class="io io-before">→</div>
                                <img src="images/gears.svg" class="transform">
                                <div class="io io-after">→</div>
                                <div class="output">Output</div>
                            </div>
                            <div class="config fragment" data-fragment-index="2">↓</div>
                            <div class="task fragment" data-fragment-index="2">
                                <div class="input">Input</div>
                                <div class="io io-before">→</div>
                                <img src="images/gears.svg" class="transform">
                                <div class="io io-after">→</div>
                                <div class="output">Output</div>
                            </div>
                            <div class="config fragment" data-fragment-index="3">↓</div>
                            <div class="task fragment" data-fragment-index="3">
                                <div class="input">Input</div>
                                <div class="io io-before">→</div>
                                <img src="images/gears.svg" class="transform">
                                <div class="io io-after">→</div>
                                <div class="output">Output</div>
                            </div>
                        </div>
                    </section>

                    <section>
                        <h2>Unix tool wrappers</h2>
                        <ul class="fragment">
                            <li>Make</li>
                            <li>Jake</li>
                            <li>Rake</li>
                            <li>Ant</li>
                            <li>Maven</li>
                        </ul>
                    </section>

                    <section>
                        <h2>A website is a dependency graph</h2>
                        <img src="images/dependencygraph.png" alt="">
                    </section>

                    <section data-background="images/discovery.jpg" class="shadow">
                        <p>Problem:</p>
                        <h2>Discovery</h2>
                    </section>

                    <section data-background="images/broken-chain.jpg" class="shadow">
                        <p>Problem:</p>
                        <h2>Coherence</h2>
                    </section>

                    <section data-background="images/leak.gif" class="shadow">
                        <h2>Development Anti-Patterns</h2>
                        <p>File renaming</p>
                        <p>Bundling</p>
                        <p>Spriting</p>
                        <p>Compression</p>
                    </section>

                </section>

                <section>

                    <section data-background="images/thoughts.jpg">
                        <h2 class="strike">Deep thoughts</h2>
                        <h2 class="fragment">Lots of iterations</h2>
                    </section>

<!--
                    <section>
                        Broken Relations
                        <ul>
                            <li>Our inability to map relations leads to transport details creeping into the development loop</li>
                            <li>Breaking up is hard. Getting back together is difficult</li>
                        </ul>
                    </section>
-->
                    <section data-background="images/enlightenment.svg">
IDEA: The browser a an interface between development and build
                    </section>

                    <section>
                        <img src="images/assetgraph.svg">
                    </section>

                    <section>
                        Auto discovery
                        <aside class="notes">
                            <ul>
                                <li>Static analysis of asset source</li>
                                <li>Behaves like a browser would</li>
                            </ul>
                            Reduce configuration. Interface: If it works in the browser, it works in the build system
                        </aside>
                    </section>

                    <section>
                        Graph model
                        <aside class="notes">
                            <ul>
                                <li>It's all about the relations</li>
                                <li>In memory representation</li>
                                <li>Syntax tree instances</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        Query model
                        <aside class="notes">
                            MongoDB-like query syntax
                        </aside>
                    </section>

                    <section>
                        Chain of transforms
                        <aside class="notes">
                            <ul>
                                <li>In memory. Low I/O</li>
                                <li>Keeps relational integrity intact</li>
                                <li>Already a large set of optimization tasks available</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <div class="buildsystem gulp assetgraph">
                            <div class="task">
                                <img src="images/assetgraph.svg" class="input">
                                <div class="io io-before">→</div>
                                <img src="images/gears.svg" class="transform">
                                <div class="io io-after">→</div>
                                <img src="images/assetgraph.svg" class="output">
                            </div>
                            <div class="config">↓</div>
                            <div class="task">
                                <img src="images/assetgraph.svg" class="input">
                                <div class="io io-before">→</div>
                                <img src="images/gears.svg" class="transform">
                                <div class="io io-after">→</div>
                                <img src="images/assetgraph.svg" class="output">
                            </div>
                            <div class="config">↓</div>
                            <div class="task">
                                <img src="images/assetgraph.svg" class="input">
                                <div class="io io-before">→</div>
                                <img src="images/gears.svg" class="transform">
                                <div class="io io-after">→</div>
                                <img src="images/assetgraph.svg" class="output">
                            </div>
                        </div>
                    </section>
                </section>

                <section>
                    <h2>Enough with the theory!</h2>
                    <h2>How can I use it?</h2>
                </section>



                <section>
                    <img src="images/tastejs.png">
                </section>

                <section>
TODO: Perspective, No transport concerns in dev. If it works in the browser, it works in the build system
                </section>

                <section>
                Show slide of dev lifecycle with assetgraph in it
                </section>

                <section>
                    <img src="images/yabs.png">
                </section>

                <section>
TODO: Perspective: Other ideas
                    <ul>
                        <li>Website to email</li>
                        <li>Content security policies</li>
                        <li>Package websites without zip</li>
                        <li>Caching development server</li>
                        <li>SPDY push server</li>
                        <li>Editor with dependency knowledge</li>
                    </ul>
                </section>

                <section>
                    <h2>In production</h2>
                    <div class="flex">
                        <img src="images/onecom.png" alt="">
                        <img src="images/typekit.svg" alt="">
                        <img src="images/falcon.png" alt="">
                    </div>
                </section>

                <section>
                TODO: License, urls etc
                </section>

                <section>
                    <h2>If it works in the browser it works in your buildsystem</h2>
                </section>

                <section>
                    <h1>QA</h1>
                </section>

                <section>
                    <h1>Thanks!</h1>

                    <p><a href="http://twitter.com/_munter_">@_munter_</a></p>
                    <p><a href="http://mntr.dk">http://mntr.dk</a></p>
                </section>

                <section>
                    <h2>Images (creative commons)</h2>
                    <p><a href="http://nomadicpursuits.com/">Jim Nix</a>: <a href="https://www.flickr.com/photos/jimnix/8176695729">Blue hour in Denmark</a></p>
                    <p><a href="http://thenounproject.com/marc_io/">Márcio Duarte</a>: <a href="http://commons.wikimedia.org/wiki/File:Gear_-_Noun_project_7137.svg">Gear, Noun project</a></p>
                </section>


			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>
            function GETSTATICURL(text){return text;}
			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
                //width: 1200,
                //height: 700,

				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

                transitionSpeed: 'slow',

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: GETSTATICURL('lib/js/classList.js'), condition: function() { return !document.body.classList; } },
					{ src: GETSTATICURL('plugin/markdown/marked.js'), condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: GETSTATICURL('plugin/markdown/markdown.js'), condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: GETSTATICURL('plugin/highlight/highlight.js'), async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: GETSTATICURL('plugin/zoom-js/zoom.js'), async: true, condition: function() { return !!document.body.classList; } },
                    { src: GETSTATICURL('plugin/notes/notes.js'), async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
